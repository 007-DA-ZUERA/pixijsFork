{"version":3,"file":"triangleInstance.mjs","sources":["../../../../../src/scene/graphics/shared/utils/triangleInstance.ts"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport Triangle from 'triangle-wasm';\n\nlet triangleInstance: any = null;\nlet triangleInitialized = false;\n\n// Construct the absolute URL to the wasm file at build time\n// This works with bundlers and resolves correctly at runtime\nconst wasmPath = new URL('../../gl/triangle.out.wasm', import.meta.url).href;\n\nexport function getTriangleInstance()\n{\n    if (!triangleInitialized)\n    {\n        console.warn('Triangle-wasm not yet initialized. Call initTriangleWasm() during app startup.');\n    }\n\n    return triangleInstance;\n}\n\nexport async function initTriangleWasm()\n{\n    if (!triangleInstance)\n    {\n        triangleInstance = await Triangle.init(wasmPath);\n        triangleInitialized = true;\n    }\n\n    return triangleInstance;\n}\n"],"names":[],"mappings":";;;AAIA,IAAI,gBAAwB,GAAA,IAAA,CAAA;AAC5B,IAAI,mBAAsB,GAAA,KAAA,CAAA;AAI1B,MAAM,WAAW,IAAI,GAAA,CAAI,4BAA8B,EAAA,MAAA,CAAA,IAAA,CAAY,GAAG,CAAE,CAAA,IAAA,CAAA;AAEjE,SAAS,mBAChB,GAAA;AACI,EAAA,IAAI,CAAC,mBACL,EAAA;AACI,IAAA,OAAA,CAAQ,KAAK,gFAAgF,CAAA,CAAA;AAAA,GACjG;AAEA,EAAO,OAAA,gBAAA,CAAA;AACX,CAAA;AAEA,eAAsB,gBACtB,GAAA;AACI,EAAA,IAAI,CAAC,gBACL,EAAA;AACI,IAAmB,gBAAA,GAAA,MAAM,QAAS,CAAA,IAAA,CAAK,QAAQ,CAAA,CAAA;AAC/C,IAAsB,mBAAA,GAAA,IAAA,CAAA;AAAA,GAC1B;AAEA,EAAO,OAAA,gBAAA,CAAA;AACX;;;;"}